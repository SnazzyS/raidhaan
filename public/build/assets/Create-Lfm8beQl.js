import{a as f,o as x,i as v,j as g,d as t,p as y,l as w,b as B,g as C}from"./app-DDIZjqGS.js";import{_ as S}from"./AppLayout-DcxM-feb.js";import{_ as k}from"./OrderForm-BYNa3UUM.js";import{u as A}from"./auth-CcBkgkiN.js";const N={class:"space-y-6"},F={__name:"Create",setup(V){const b=A(),r=f(!1),s=f(""),h=async o=>{var e,n,l,i,u,c,d,m,p,_;r.value=!0,s.value="";try{await w.post("/orders",o),B.visit("/orders")}catch(a){s.value=((n=(e=a.response)==null?void 0:e.data)==null?void 0:n.message)??((c=(u=(i=(l=a.response)==null?void 0:l.data)==null?void 0:i.errors)==null?void 0:u.phone_number)==null?void 0:c[0])??((_=(p=(m=(d=a.response)==null?void 0:d.data)==null?void 0:m.errors)==null?void 0:p.order)==null?void 0:_[0])??"Failed to create the order."}finally{r.value=!1}};return x(()=>{b.ensureAuthenticated()}),(o,e)=>(C(),v(S,null,{default:g(()=>[t("section",N,[e[0]||(e[0]=t("header",{class:"border-b border-slate-200 pb-4"},[t("h1",{class:"text-2xl font-semibold text-slate-900"},"Create order"),t("p",{class:"text-sm text-slate-500"}," Generate a new order with customer and delivery details in one place. ")],-1)),y(k,{mode:"create",submitting:r.value,error:s.value,onSubmit:h},null,8,["submitting","error"])])]),_:1}))}};export{F as default};
